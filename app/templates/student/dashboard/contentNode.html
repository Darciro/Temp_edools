<div class="module">
  <div class="module-info">
    <div class="title">
      <a href ng-click="getCourseContents(module)">{{ module.name }}</a>
    </div>
    <spinner name="module{{ module.id }}.content" class="small"></spinner>
  </div>
</div>
<ol ui-tree-nodes ng-model="module.modules">
  <li class="module-item sub" ng-repeat="module in module.course_modules" ng-include="subTemplateUrl" ui-tree-node></li>
</ol>
<ol ui-tree-nodes ng-model="module.modules">
  <li class="module-item sub" ng-repeat="class in module.classes" ui-tree-node>
    <div class="class">
      <div class="class-info" ng-class="{'active': $state.params.contentId == class.id.toString()}">
        <progress-icon ng-model="class"></progress-icon>
        <class-icon ng-model="class"></class-icon>
        <span ng-if="class.lesson.progress.views + 1 < enrollment.max_attendance_length">

          <a  title="* Sua visualização é contabilizada a cada 24 horas." class="title" link-to="school.dashboard.course.content.media({ contentId: class.id })">{{ class.lesson.title }}</a>

        </span>
        <span title="* Sua visualização é contabilizada a cada 24 horas." ng-if="class.lesson.progress.views + 1 === enrollment.max_attendance_length">
          {{ class.lesson.title }}
        </span>
        <span  title="* Sua visualização é contabilizada a cada 24 horas." ng-class="class.lesson.progress.views + 1 === enrollment.max_attendance_length ? 'red-attempt' : 'attempt' " ng-if="enrollment.max_attendance_type === 'attempts' && class.lesson.progress" >
          <span> - {{ class.lesson.progress.views + 1}} de {{ enrollment.max_attendance_length }} Visualizações</span>
        </span>
      </div>
    </div>
  </li>
</ol>



